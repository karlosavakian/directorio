  {% load static %}
{% load load_css %}
{% load socialaccount %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Clubs De Boxeo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/svg+xml" href="{% static 'img/logo.svg' %}">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css">
  {% load_css_files %}

</head>
 <body>
    
<div class="d-flex flex-column min-vh-100">
      <main class="flex-grow-1">
        <div class="px-0">
          <div class="row g-0 min-vh-100">
            <!-- Izquierda -->
           <div class="col-md-6 d-none d-md-flex flex-column align-items-center bg-dark text-white p-5 position-relative"
     style="background-image: url('{% static 'img/register-bg.png' %}'); background-repeat:no-repeat; background-size: cover; background-position: center;">
  
  <!-- Capa negra semitransparente -->
  <div class="position-absolute top-0 start-0 w-100 h-100" style="background-color: rgba(0,0,0,.7);"></div>
  
  <!-- Contenido -->
  <div class="position-relative align-self-start m-3   p-5 rounded">
    <h1 class="h1 mb-3 ">Únete al directorio de clubs de boxeo más grande del mundo.</h1>
    <p class="lead fs-5">
      Conecta con los mejores entrenadores, entrena como un profesional y conviértete en leyenda.
    </p>
  </div>
</div>

 
        <!-- Derecha -->
<div class="col-md-6 d-flex flex-column align-items-center justify-content-start py-5">
    <!-- Logo -->
    <div class="mb-4">
                {% include 'partials/_header-logo.html' %}
    </div>

    <!-- Card -->
    <div class="card p-4" style="width: 100%; max-width: 400px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
        <h1 class="h3 mb-3 text-center">Crear una cuenta</h1>

        <form method="post" class="profile-form">
            {% csrf_token %}
            {{ form.non_field_errors }}

          <!-- Username -->
<div class="form-field slug-field always-active">
    <span class="username-prefix">@</span>
    <input type="text" name="{{ form.username.name }}" value="{{ form.username.value|default_if_none:'' }}" class="form-control" id="{{ form.username.id_for_label }}" placeholder=" " minlength="3" required oninvalid="this.setCustomValidity('Rellene este campo')" oninput="setCustomValidity('')">
    <button type="button" class="clear-btn bi bi-x"></button>
    <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
    {% if form.username.errors %}
      <div class="invalid-feedback d-block">
        {{ form.username.errors.as_text|striptags }}
      </div>
    {% endif %}
</div>

<!-- Email -->
<div class="form-field">
    <input type="email" name="{{ form.email.name }}" value="{{ form.email.value|default_if_none:'' }}" class="form-control" id="{{ form.email.id_for_label }}" placeholder=" " required oninvalid="this.setCustomValidity('Rellene este campo')" oninput="setCustomValidity('')">
    <button type="button" class="clear-btn bi bi-x"></button>
    <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
    {% if form.email.errors %}
      <div class="invalid-feedback d-block">
        {{ form.email.errors.as_text|striptags }}
      </div>
    {% endif %}
</div>

<!-- Password1 -->
<div class="form-field with-toggle">
    <div class="input-wrapper">
        <button type="button" class="clear-btn bi bi-x"></button>
        <button type="button" class="toggle-password"><i class="bi bi-eye"></i></button>
        <input type="password" name="{{ form.password1.name }}" class="form-control" id="{{ form.password1.id_for_label }}" placeholder=" " required oninvalid="this.setCustomValidity('Rellene este campo')" oninput="setCustomValidity('')">
    </div>
    <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
    {% if form.password1.errors %}
      <div class="invalid-feedback d-block">
        {{ form.password1.errors.as_text|striptags }}
      </div>
    {% endif %}
</div>
    <small style="position:relative; top:-15px; font-size:12px;" class="form-text text-muted">La contraseña debe tener al menos 6 caracteres e incluir mayúsculas, minúsculas y números.</small>


<!-- Password2 -->
<div class="form-field with-toggle">
    <div class="input-wrapper">
        <button type="button" class="clear-btn bi bi-x"></button>
        <button type="button" class="toggle-password"><i class="bi bi-eye"></i></button>
        <input type="password" name="{{ form.password2.name }}" class="form-control" id="{{ form.password2.id_for_label }}" placeholder=" " required oninvalid="this.setCustomValidity('Rellene este campo')" oninput="setCustomValidity('')">
    </div>
    <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
    {% if form.password2.errors %}
      <div class="invalid-feedback d-block">
        {{ form.password2.errors.as_text|striptags }}
      </div>
    {% endif %}
</div>

            <button type="submit" class="btn btn-dark w-100">Crear cuenta</button>
        </form>

        <div class="text-center my-3">
            <a href="{% provider_login_url 'google' %}" class="btn btn-outline-danger w-100 mb-2">Continuar con Google</a> 
        </div>

        <div class="mt-3 text-center">
            <a href="{% url 'login' %}">¿Ya estas registrado? Iniciar Sesión</a>
        </div>

        <div class="border-top mt-4 pt-3 text-center">
            <p class="mb-0 small text-muted">
                Al crear una cuenta aceptas nuestros
                <a href="{% url 'terminos' %}" class="text-decoration-none">Términos y Condiciones</a> y la
                <a href="{% url 'privacidad' %}" class="text-decoration-none">Política de Privacidad</a>.
            </p>
        </div>
    </div>
</div>

      </div>
    </div>
  </main> 
</div> 

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'js/page-loader.js' %}"></script>
  <script src="{% static 'js/clear-input.js' %}"></script>
  <script src="{% static 'js/toggle-password.js' %}"></script>
  </body>
  </html>
